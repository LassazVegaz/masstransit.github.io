<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Started | MassTransit</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#3a0839">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="description" content="A free, open-source distributed application framework for .NET.">
    <meta name="msapplication-TileColor" content="#3a0839">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.10d3c714.css" as="style"><link rel="preload" href="/assets/js/app.0285a886.js" as="script"><link rel="preload" href="/assets/js/3.ed085c94.js" as="script"><link rel="preload" href="/assets/js/72.9bcafbd2.js" as="script"><link rel="prefetch" href="/assets/js/10.4664b18e.js"><link rel="prefetch" href="/assets/js/100.521eb47e.js"><link rel="prefetch" href="/assets/js/101.6dc69973.js"><link rel="prefetch" href="/assets/js/102.6bddc9f5.js"><link rel="prefetch" href="/assets/js/103.221a5e32.js"><link rel="prefetch" href="/assets/js/104.7a9d3561.js"><link rel="prefetch" href="/assets/js/105.992a55d5.js"><link rel="prefetch" href="/assets/js/106.bb89b0bb.js"><link rel="prefetch" href="/assets/js/107.c91fea02.js"><link rel="prefetch" href="/assets/js/108.6224e0f4.js"><link rel="prefetch" href="/assets/js/109.39b59e40.js"><link rel="prefetch" href="/assets/js/11.e65fb4dd.js"><link rel="prefetch" href="/assets/js/110.dae634e5.js"><link rel="prefetch" href="/assets/js/111.4c889386.js"><link rel="prefetch" href="/assets/js/112.e87e3bb4.js"><link rel="prefetch" href="/assets/js/113.c82496c0.js"><link rel="prefetch" href="/assets/js/114.1196b6b6.js"><link rel="prefetch" href="/assets/js/115.f9c3be75.js"><link rel="prefetch" href="/assets/js/116.86a98031.js"><link rel="prefetch" href="/assets/js/117.4e172665.js"><link rel="prefetch" href="/assets/js/118.f955d9b2.js"><link rel="prefetch" href="/assets/js/119.7ba6c616.js"><link rel="prefetch" href="/assets/js/12.a3fdfa3d.js"><link rel="prefetch" href="/assets/js/120.1500a82c.js"><link rel="prefetch" href="/assets/js/121.49da4f03.js"><link rel="prefetch" href="/assets/js/122.1447c040.js"><link rel="prefetch" href="/assets/js/123.3eba400d.js"><link rel="prefetch" href="/assets/js/124.11e37f2a.js"><link rel="prefetch" href="/assets/js/125.c0d86ef4.js"><link rel="prefetch" href="/assets/js/126.92057799.js"><link rel="prefetch" href="/assets/js/127.268c2774.js"><link rel="prefetch" href="/assets/js/128.3e18db43.js"><link rel="prefetch" href="/assets/js/129.5a12693a.js"><link rel="prefetch" href="/assets/js/13.a1e1950a.js"><link rel="prefetch" href="/assets/js/130.16a342ad.js"><link rel="prefetch" href="/assets/js/131.c3635c42.js"><link rel="prefetch" href="/assets/js/132.de6b0df7.js"><link rel="prefetch" href="/assets/js/133.7179d94d.js"><link rel="prefetch" href="/assets/js/134.e15fa251.js"><link rel="prefetch" href="/assets/js/135.8cf6c306.js"><link rel="prefetch" href="/assets/js/136.364d6d81.js"><link rel="prefetch" href="/assets/js/137.38b29357.js"><link rel="prefetch" href="/assets/js/138.b7495e25.js"><link rel="prefetch" href="/assets/js/139.ec45975e.js"><link rel="prefetch" href="/assets/js/14.ffd071f1.js"><link rel="prefetch" href="/assets/js/140.e19ba9e8.js"><link rel="prefetch" href="/assets/js/141.bd5bd66c.js"><link rel="prefetch" href="/assets/js/142.cc367b50.js"><link rel="prefetch" href="/assets/js/143.93a7c6d9.js"><link rel="prefetch" href="/assets/js/144.8a4c62e1.js"><link rel="prefetch" href="/assets/js/15.bb6e1b74.js"><link rel="prefetch" href="/assets/js/16.9ffaa291.js"><link rel="prefetch" href="/assets/js/17.232013c5.js"><link rel="prefetch" href="/assets/js/18.ad084001.js"><link rel="prefetch" href="/assets/js/19.3da9ad58.js"><link rel="prefetch" href="/assets/js/20.d1fad9d8.js"><link rel="prefetch" href="/assets/js/21.f87865b3.js"><link rel="prefetch" href="/assets/js/22.af0a9f2e.js"><link rel="prefetch" href="/assets/js/23.e2d8f51a.js"><link rel="prefetch" href="/assets/js/24.e6d92251.js"><link rel="prefetch" href="/assets/js/25.4a62dbc7.js"><link rel="prefetch" href="/assets/js/26.46955a2d.js"><link rel="prefetch" href="/assets/js/27.e5f38990.js"><link rel="prefetch" href="/assets/js/28.f4311d18.js"><link rel="prefetch" href="/assets/js/29.5b5eab97.js"><link rel="prefetch" href="/assets/js/30.2799302d.js"><link rel="prefetch" href="/assets/js/31.ed423d27.js"><link rel="prefetch" href="/assets/js/32.5d6eeef0.js"><link rel="prefetch" href="/assets/js/33.150a8095.js"><link rel="prefetch" href="/assets/js/34.7d42cc21.js"><link rel="prefetch" href="/assets/js/35.063c255c.js"><link rel="prefetch" href="/assets/js/36.15cef90f.js"><link rel="prefetch" href="/assets/js/37.8a6e504b.js"><link rel="prefetch" href="/assets/js/38.bee623db.js"><link rel="prefetch" href="/assets/js/39.c6419725.js"><link rel="prefetch" href="/assets/js/4.7df36a6c.js"><link rel="prefetch" href="/assets/js/40.ce1e8e7b.js"><link rel="prefetch" href="/assets/js/41.343d67f5.js"><link rel="prefetch" href="/assets/js/42.5359f115.js"><link rel="prefetch" href="/assets/js/43.4eab0ad4.js"><link rel="prefetch" href="/assets/js/44.4aaaa1e9.js"><link rel="prefetch" href="/assets/js/45.9f062233.js"><link rel="prefetch" href="/assets/js/46.029a65d8.js"><link rel="prefetch" href="/assets/js/47.5e86e2ab.js"><link rel="prefetch" href="/assets/js/48.a9824b7a.js"><link rel="prefetch" href="/assets/js/49.95f68b0a.js"><link rel="prefetch" href="/assets/js/5.edf7f764.js"><link rel="prefetch" href="/assets/js/50.14766090.js"><link rel="prefetch" href="/assets/js/51.288d4268.js"><link rel="prefetch" href="/assets/js/52.145258d7.js"><link rel="prefetch" href="/assets/js/53.cfedf356.js"><link rel="prefetch" href="/assets/js/54.b219bb82.js"><link rel="prefetch" href="/assets/js/55.0f092b8d.js"><link rel="prefetch" href="/assets/js/56.94b4efb7.js"><link rel="prefetch" href="/assets/js/57.f5b797bf.js"><link rel="prefetch" href="/assets/js/58.f75104cf.js"><link rel="prefetch" href="/assets/js/59.bf8ec211.js"><link rel="prefetch" href="/assets/js/6.8e720dfb.js"><link rel="prefetch" href="/assets/js/60.87367e7f.js"><link rel="prefetch" href="/assets/js/61.b0df016b.js"><link rel="prefetch" href="/assets/js/62.445689cc.js"><link rel="prefetch" href="/assets/js/63.d13ef97e.js"><link rel="prefetch" href="/assets/js/64.75046760.js"><link rel="prefetch" href="/assets/js/65.afd3aea1.js"><link rel="prefetch" href="/assets/js/66.9199174c.js"><link rel="prefetch" href="/assets/js/67.68979a22.js"><link rel="prefetch" href="/assets/js/68.7dc6533f.js"><link rel="prefetch" href="/assets/js/69.05b365c2.js"><link rel="prefetch" href="/assets/js/7.d411127e.js"><link rel="prefetch" href="/assets/js/70.2bea9937.js"><link rel="prefetch" href="/assets/js/71.a0c02df1.js"><link rel="prefetch" href="/assets/js/73.7e27fb04.js"><link rel="prefetch" href="/assets/js/74.2e777193.js"><link rel="prefetch" href="/assets/js/75.01d5b44f.js"><link rel="prefetch" href="/assets/js/76.439d5b29.js"><link rel="prefetch" href="/assets/js/77.2326a3bf.js"><link rel="prefetch" href="/assets/js/78.0490ab0d.js"><link rel="prefetch" href="/assets/js/79.eb31d268.js"><link rel="prefetch" href="/assets/js/8.4cdb2372.js"><link rel="prefetch" href="/assets/js/80.87ffba09.js"><link rel="prefetch" href="/assets/js/81.96fe4f52.js"><link rel="prefetch" href="/assets/js/82.1071de63.js"><link rel="prefetch" href="/assets/js/83.4fcf2a50.js"><link rel="prefetch" href="/assets/js/84.668ce9b6.js"><link rel="prefetch" href="/assets/js/85.0cd583fb.js"><link rel="prefetch" href="/assets/js/86.25f53ebc.js"><link rel="prefetch" href="/assets/js/87.81494f85.js"><link rel="prefetch" href="/assets/js/88.7d618ad5.js"><link rel="prefetch" href="/assets/js/89.ad90e21c.js"><link rel="prefetch" href="/assets/js/9.307c805f.js"><link rel="prefetch" href="/assets/js/90.5761e417.js"><link rel="prefetch" href="/assets/js/91.74a77aa9.js"><link rel="prefetch" href="/assets/js/92.cce73881.js"><link rel="prefetch" href="/assets/js/93.2c2c17c3.js"><link rel="prefetch" href="/assets/js/94.f5c6b161.js"><link rel="prefetch" href="/assets/js/95.6160e31e.js"><link rel="prefetch" href="/assets/js/96.0fa9288b.js"><link rel="prefetch" href="/assets/js/97.50cbe0f3.js"><link rel="prefetch" href="/assets/js/98.9c42acd8.js"><link rel="prefetch" href="/assets/js/99.d7d2a3cd.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.4ad889dc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.10d3c714.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/mt-logo-small.png" alt="MassTransit" class="logo"> <span class="site-name can-hide">MassTransit</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/discord.html" class="nav-link">
  Discord
</a></div><div class="nav-item"><a href="https://nuget.org/packages/MassTransit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NuGet
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/MassTransit/MassTransit" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/discord.html" class="nav-link">
  Discord
</a></div><div class="nav-item"><a href="https://nuget.org/packages/MassTransit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NuGet
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/MassTransit/MassTransit" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/getting-started/" aria-current="page" class="sidebar-heading clickable router-link-exact-active router-link-active open active"><span>Getting Started</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/getting-started/live-coding.html" class="sidebar-link">Live Coding</a></li><li><a href="/getting-started/upgrade-v6.html" class="sidebar-link">Upgrading</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/releases/" class="sidebar-heading clickable"><span>Release Notes</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/usage/" class="sidebar-heading clickable"><span>Using MassTransit</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/usage/configuration.html" class="sidebar-link">Configuration</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/usage/transports/" class="sidebar-heading clickable"><span>Transports</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/usage/riders/" class="sidebar-heading clickable"><span>Riders</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/usage/mediator.html" class="sidebar-link">Mediator</a></li><li><a href="/usage/messages.html" class="sidebar-link">Messages</a></li><li><a href="/usage/consumers.html" class="sidebar-link">Consumers</a></li><li><a href="/usage/producers.html" class="sidebar-link">Producers</a></li><li><a href="/usage/exceptions.html" class="sidebar-link">Exceptions</a></li><li><a href="/usage/requests.html" class="sidebar-link">Requests</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/usage/sagas/" class="sidebar-heading clickable"><span>Sagas</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/usage/containers/" class="sidebar-heading clickable"><span>Containers</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/usage/testing.html" class="sidebar-link">Testing</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Advanced</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/learn/" class="sidebar-heading clickable"><span>Getting Help</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Articles</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/platform/" class="sidebar-heading clickable"><span>Platform</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting Started</h1> <p>Getting started with MassTransit is fast and easy. This quick start guide uses RabbitMQ with .NET Core. RabbitMQ must be installed, instructions for installing RabbitMQ are included <a href="#install-rabbitmq">below</a>.</p> <blockquote><p>The <a href="https://dotnet.microsoft.com/download" target="_blank" rel="noopener noreferrer">.NET Core SDK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> should be installed before continuing.</p></blockquote> <p>To create a service using MassTransit, create a console application via the Command Prompt.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">mkdir</span> GettingStarted
$ dotnet new console -o GettingStarted
</code></pre></div><h2 id="with-in-memory-bus"><a href="#with-in-memory-bus" class="header-anchor">#</a> With In-Memory Bus</h2> <p>Add MassTransit package to the console application:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> GettingStarted
$ dotnet <span class="token function">add</span> package MassTransit
</code></pre></div><p>At this point, the project should compile, but there is more work to be done. You can verify the project builds by executing:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ dotnet run
</code></pre></div><h3 id="edit-program-cs"><a href="#edit-program-cs" class="header-anchor">#</a> Edit Program.cs</h3> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Message</span>
<span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Text <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> bus <span class="token operator">=</span> Bus<span class="token punctuation">.</span>Factory<span class="token punctuation">.</span><span class="token function">CreateUsingInMemory</span><span class="token punctuation">(</span>sbc <span class="token operator">=&gt;</span>
        <span class="token punctuation">{</span>
            sbc<span class="token punctuation">.</span><span class="token function">ReceiveEndpoint</span><span class="token punctuation">(</span><span class="token string">&quot;test_queue&quot;</span><span class="token punctuation">,</span> ep <span class="token operator">=&gt;</span>
            <span class="token punctuation">{</span>
                ep<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Handler</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Message<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>context <span class="token operator">=&gt;</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> Console<span class="token punctuation">.</span>Out<span class="token punctuation">.</span><span class="token function">WriteLineAsync</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Received: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">context<span class="token punctuation">.</span>Message<span class="token punctuation">.</span>Text</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">await</span> bus<span class="token punctuation">.</span><span class="token function">StartAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This is important!</span>

        <span class="token keyword">await</span> bus<span class="token punctuation">.</span><span class="token function">Publish</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Message</span><span class="token punctuation">{</span>Text <span class="token operator">=</span> <span class="token string">&quot;Hi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Press any key to exit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">ReadKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">await</span> bus<span class="token punctuation">.</span><span class="token function">StopAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Save the file, and execute <em><code>dotnet run</code></em>, and you should see the message <em>Received: Hi</em> displayed. If you see anything else, something went wrong. Verify your installed packages and your .NET Core setup. All the things that could possibly go wrong you should fix.</p> <h2 id="with-rabbitmq"><a href="#with-rabbitmq" class="header-anchor">#</a> With RabbitMQ</h2> <p>Add RabbitMQ for MassTransit package to the console application:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> GettingStarted
$ dotnet <span class="token function">add</span> package MassTransit.RabbitMQ
</code></pre></div><p>If you've skipped the in-memory version, don't worry, the MassTransit package will be added as well.</p> <p>If you have any errors at this point, you might want to get them resolved.</p> <h3 id="edit-program-cs-2"><a href="#edit-program-cs-2" class="header-anchor">#</a> Edit Program.cs</h3> <blockquote><p>You can view a working project on <a href="https://github.com/MassTransit/Sample-ConsoleService" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. There are other <a href="/learn/samples">samples</a> available as well.</p></blockquote> <p>To get started, a bare bones <em>Program.cs</em> is shown below.</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Message</span>
<span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Text <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> bus <span class="token operator">=</span> Bus<span class="token punctuation">.</span>Factory<span class="token punctuation">.</span><span class="token function">CreateUsingRabbitMq</span><span class="token punctuation">(</span>sbc <span class="token operator">=&gt;</span>
        <span class="token punctuation">{</span>
            sbc<span class="token punctuation">.</span><span class="token function">Host</span><span class="token punctuation">(</span><span class="token string">&quot;rabbitmq://localhost&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            sbc<span class="token punctuation">.</span><span class="token function">ReceiveEndpoint</span><span class="token punctuation">(</span><span class="token string">&quot;test_queue&quot;</span><span class="token punctuation">,</span> ep <span class="token operator">=&gt;</span>
            <span class="token punctuation">{</span>
                ep<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Handler</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Message<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>context <span class="token operator">=&gt;</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> Console<span class="token punctuation">.</span>Out<span class="token punctuation">.</span><span class="token function">WriteLineAsync</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Received: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">context<span class="token punctuation">.</span>Message<span class="token punctuation">.</span>Text</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">await</span> bus<span class="token punctuation">.</span><span class="token function">StartAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This is important!</span>

        <span class="token keyword">await</span> bus<span class="token punctuation">.</span><span class="token function">Publish</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Message</span><span class="token punctuation">{</span>Text <span class="token operator">=</span> <span class="token string">&quot;Hi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Press any key to exit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Console<span class="token punctuation">.</span><span class="token function">ReadKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">await</span> bus<span class="token punctuation">.</span><span class="token function">StopAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Save the file, and execute <em>dotnet run</em>, and you should see the message <em>Received: Hi</em> displayed. If you see anything else, something went wrong. Verify your RabbitMQ installation and your .NET Core setup, basically all the things that could possibly go wrong you should fix.</p> <h3 id="install-rabbitmq"><a href="#install-rabbitmq" class="header-anchor">#</a> Install RabbitMQ</h3> <p>RabbitMQ can be installed several different ways, depending upon your operating system and installed software.</p> <h4 id="docker"><a href="#docker" class="header-anchor">#</a> Docker</h4> <p>The easiest by far is using Docker, which can be started as shown below. This will download and run a preconfigured Docker image, maintained by MassTransit, including the delayed exchange plug-in, as well as the Management interface enabled.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ docker run -p <span class="token number">15672</span>:15672 -p <span class="token number">5672</span>:5672 masstransit/rabbitmq
</code></pre></div><h4 id="homebrew-mac-os-x"><a href="#homebrew-mac-os-x" class="header-anchor">#</a> Homebrew (Mac OS X)</h4> <p>If you are using a Mac, RabbitMQ can be installed using <a href="https://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> by typing <code>brew install rabbitmq</code>. This installs the management plug-in automatically. Once installed, type <code>brew services start rabbitmq</code> and accept the prompts to enable network ports.</p> <h4 id="to-install-rabbitmq-manually"><a href="#to-install-rabbitmq-manually" class="header-anchor">#</a> To install RabbitMQ manually:</h4> <ol><li><strong>Install Erlang</strong> using the <a href="http://www.erlang.org/download.html" target="_blank" rel="noopener noreferrer">installer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. (Next -&gt; Next ...)</li> <li><strong>Install RabbitMQ</strong> using the <a href="http://www.rabbitmq.com/download.html" target="_blank" rel="noopener noreferrer">installer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. (Next -&gt; Next ...) You now have a RabbitMQ broker (look in <code>services.msc</code> for it) that you can <a href="http://localhost:15672/#/" target="_blank" rel="noopener noreferrer">log into<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> using <code>guest</code>, <code>guest</code>. You can see message rates, routings and active consumers using this interface.</li></ol> <h5 id="you-need-to-add-the-management-interface-before-you-can-login"><a href="#you-need-to-add-the-management-interface-before-you-can-login" class="header-anchor">#</a> You need to add the management interface before you can login.</h5> <ol><li><p>First, from an elevated command prompt, change directory to the sbin folder within the RabbitMQ Server installation directory e.g. <code>%PROGRAMFILES%\RabbitMQ Server\rabbitmq_server_3.5.3\sbin\</code></p></li> <li><p>Next, run the following command to enable the rabbitmq management plugin: <code>rabbitmq-plugins enable rabbitmq_management</code></p></li></ol> <h3 id="what-is-this-doing"><a href="#what-is-this-doing" class="header-anchor">#</a> What is this doing?</h3> <p>If we are going to create a messaging system, we need to create a message. <code>Message</code> is a .NET class that will represent our message. Notice that it's just a Plain Old CLR Object (or POCO).</p> <p>Next up, we need a program to run our code. Here we have a standard issue command line <code>Main</code> method. To setup the bus we start with the static class <code>Bus</code> and work off of the <code>Factory</code> extension point. From there we call the <code>CreateUsingRabbitMQ</code> method to setup a RabbitMQ bus instance. This method takes a lambda whose first and only argument is a class that will let you configure every aspect of the bus.</p> <p>One of your first decisions is going to be &quot;What transport do I want to run on?&quot; Here we have chosen RabbitMQ (<code>Bus.Factory.CreateUsingRabbitMQ()</code>) because its the defacto transport choice for MassTransit.</p> <p>After that we need to configure the RabbitMQ host settings <code>sbc.Host()</code>. The first argument sets the machine name and the virtual directory to connect to. After that you have a lambda that you can use to tweak any of the other settings that you want. Since no additional configuration is specified, the default username and password (guest/guest) is being used.</p> <p>Now that we have a host to listen on, we can configure some receiving endpoints <code>sbc.ReceiveEndpoint</code>. We specifiy the queue we want to listen on and a lambda to register each handler that we want to use.</p> <p>Lastly, in the configuration, we have the <code>Handler&lt;Message&gt;</code> method which subscribes a handler for the message type <code>Message</code> and takes an <code>async</code> lambda (oh yeah baby TPL) that is given a context class to process. Here we access the message by traversing <code>context.Message</code> and then writing to the console the text of the message.</p> <p>And now we have a bus instance that is fully configured and can start processing messages. We can grab the <code>busControl</code> that we created and call <code>StartAsync</code> on it to get everything rolling. We again <code>await</code> on the result and now we can go.</p> <div class="custom-block warning"><p class="custom-block-title">IMPORTANT</p> <p>You <em>must</em> start the bus, otherwise you will get issues with sending and receiving messages. There is no &quot;send-only&quot; bus with MassTransit.</p></div> <p>We can call the <code>Publish</code> method on the <code>busControl</code> and we should see our console write the output.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/MassTransit/MassTransit/edit/develop/docs/getting-started/README.md" target="_blank" rel="noopener noreferrer">Help us by improving this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/9/2020, 12:54:45 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0285a886.js" defer></script><script src="/assets/js/3.ed085c94.js" defer></script><script src="/assets/js/72.9bcafbd2.js" defer></script>
  </body>
</html>
