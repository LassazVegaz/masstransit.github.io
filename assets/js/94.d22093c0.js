(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{380:function(t,a,s){"use strict";s.r(a);var e=s(10),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_7-0-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-0-6"}},[t._v("#")]),t._v(" 7.0.6")]),t._v(" "),a("p",[t._v("Version 7.0.6 includes several new features which are detailed below.")]),t._v(" "),a("blockquote",[a("p",[t._v("Just FYI, 7.0.5 was skipped due to a package reference issue")])]),t._v(" "),a("h3",{attrs:{id:"container-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#container-configuration"}},[t._v("#")]),t._v(" Container Configuration")]),t._v(" "),a("p",[t._v("A new method, "),a("code",[t._v("AddSagaRepository")]),t._v(", allows a saga repository to be added separately from the saga/state machine saga. This is particularly useful when the saga is configured in one section of code and the saga repository must be configured elsewhere. This was created to allow the job service saga repositories to be more easily configured. For example, to configure an existing "),a("code",[t._v("DbContext")]),t._v(" and then use it.")]),t._v(" "),a("div",{staticClass:"language-cs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token generic-method"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddDbContext")]),a("span",{pre:!0,attrs:{class:"token generic class-name"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("JobServiceSagaDbContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("builder "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ApplyBuilderOptions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("builder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddMassTransit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token generic-method"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddSagaRepository")]),a("span",{pre:!0,attrs:{class:"token generic class-name"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("JobSaga"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("EntityFrameworkRepository")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("r "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token generic-method"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ExistingDbContext")]),a("span",{pre:!0,attrs:{class:"token generic class-name"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("JobServiceSagaDbContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LockStatementProvider "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" RawSqlLockStatements"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("This is documented in the "),a("a",{attrs:{href:"/usage/sagas/efcore"}},[t._v("sagas")]),t._v(" section.")])]),t._v(" "),a("h3",{attrs:{id:"entity-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entity-name"}},[t._v("#")]),t._v(" Entity Name")]),t._v(" "),a("p",[t._v("A new attribute, "),a("code",[t._v("EntityName")]),t._v(", has been added which allows a message type to specify an entity name use for the topic/exchange name.")]),t._v(" "),a("div",{staticClass:"language-cs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token attribute"}},[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EntityName")]),a("span",{pre:!0,attrs:{class:"token attribute-arguments"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some-other-topic"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TopicMessage")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"automatonymous"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#automatonymous"}},[t._v("#")]),t._v(" Automatonymous")]),t._v(" "),a("p",[t._v("The state machine was updated to allow query building against the State property, including conversion of types between "),a("code",[t._v("State")]),t._v(", "),a("code",[t._v("int")]),t._v(", and "),a("code",[t._v("string")]),t._v(". This includes new methods for checking the existence of state machine instances within unit tests.")]),t._v(" "),a("h3",{attrs:{id:"rabbitmq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq"}},[t._v("#")]),t._v(" RabbitMQ")]),t._v(" "),a("p",[t._v("Fixed issue where "),a("code",[t._v("IsHeadersPresent")]),t._v(" is wrong, causing a null-reference exception.")]),t._v(" "),a("h3",{attrs:{id:"simpleinjector"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#simpleinjector"}},[t._v("#")]),t._v(" SimpleInjector")]),t._v(" "),a("p",[t._v("Package has been upgraded to v5.")]),t._v(" "),a("h3",{attrs:{id:"quartz"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#quartz"}},[t._v("#")]),t._v(" Quartz")]),t._v(" "),a("p",[t._v("Package has been updated to a more recent version, and the integration has added some additional features including the ability to not-start the scheduler on a node.")]),t._v(" "),a("h3",{attrs:{id:"transactional-bus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transactional-bus"}},[t._v("#")]),t._v(" Transactional Bus")]),t._v(" "),a("p",[t._v("Breaking Change! "),a("code",[t._v(".AddTransactionalBus()")]),t._v(" is renamed to "),a("code",[t._v(".AddTransactionalEnlistmentBus()")])]),t._v(" "),a("p",[a("a",{attrs:{href:"/advanced/middleware/transactions"}},[t._v("Read more about the two")])])])}),[],!1,null,null,null);a.default=n.exports}}]);